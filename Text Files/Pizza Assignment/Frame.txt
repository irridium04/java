/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package pizzaordering;

import javax.swing.DefaultListModel;

/**
 *
 * @author collinshook
 */
public class PizzaForm extends javax.swing.JFrame
{

// pizza variable initialization
String[] sizes = {"Small", "Medium", "Large"};
String[] toppings = {"Cheese", "Beef", "Pepperoni", "Sausage", "Italian Sausage", "Ham", "Bacon"};
String[] extras = {"Onions", "Pineapple", "Mushrooms", "Extra Cheese", "Peppers"};
String[] pickupOptions = {"Pick Up", "Delivery"};
boolean isDelivery = false;
String order;

DefaultListModel toppingsListModel = new DefaultListModel();
DefaultListModel extrasListModel = new DefaultListModel();
/**
 * Creates new form PizzaForm
 */
public PizzaForm()
{
    initComponents();
    
    // setup box contents
    
    jcmbosizes.removeAllItems();
    for (String size : sizes)
    {
        jcmbosizes.addItem(size);
    }
    
    jcmbodelivery.removeAllItems();
    for (String option : pickupOptions)
    {
        jcmbodelivery.addItem(option);
    }
    
    
    for (String topping : toppings)
    {
        toppingsListModel.addElement(topping);
    }
    
    jlistToppings.setModel(toppingsListModel);
    
    
    for (String extra : extras)
    {
        extrasListModel.addElement(extra);
    }
    
    jlistExtras.setModel(extrasListModel);
    
    
    // select defaults
    
    jcmbodelivery.setSelectedIndex(0);
    jcmbosizes.setSelectedIndex(0);
}

/**
 * This method is called from within the constructor to initialize the form.
 * WARNING: Do NOT modify this code. The content of this method is always
 * regenerated by the Form Editor.
 */
@SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jlblTitle = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTxtTicket = new javax.swing.JTextArea();
        jcmbosizes = new javax.swing.JComboBox<>();
        jlblTitle1 = new javax.swing.JLabel();
        jlblTitle2 = new javax.swing.JLabel();
        jlblTitle3 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jlistExtras = new javax.swing.JList<>();
        jScrollPane3 = new javax.swing.JScrollPane();
        jlistToppings = new javax.swing.JList<>();
        jlblTitle4 = new javax.swing.JLabel();
        jcmbodelivery = new javax.swing.JComboBox<>();
        jtxtFname = new javax.swing.JTextField();
        jlblTitle5 = new javax.swing.JLabel();
        jlblTitle6 = new javax.swing.JLabel();
        jtxtLname = new javax.swing.JTextField();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jlblTitle.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle.setText("Pizza Builder");
        getContentPane().add(jlblTitle, new org.netbeans.lib.awtextra.AbsoluteConstraints(320, 10, -1, 37));

        jTxtTicket.setEditable(false);
        jTxtTicket.setBackground(new java.awt.Color(225, 225, 225));
        jTxtTicket.setColumns(20);
        jTxtTicket.setFont(new java.awt.Font("Monospaced", 0, 12)); // NOI18N
        jTxtTicket.setForeground(new java.awt.Color(20, 20, 20));
        jTxtTicket.setRows(5);
        jScrollPane1.setViewportView(jTxtTicket);

        getContentPane().add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(540, 60, 265, 391));

        jcmbosizes.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        jcmbosizes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jcmbosizesActionPerformed(evt);
            }
        });
        getContentPane().add(jcmbosizes, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 160, -1, -1));

        jlblTitle1.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle1.setText("First Name");
        getContentPane().add(jlblTitle1, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 50, -1, 37));

        jlblTitle2.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle2.setText("Select Toppings");
        getContentPane().add(jlblTitle2, new org.netbeans.lib.awtextra.AbsoluteConstraints(160, 120, -1, 37));

        jlblTitle3.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle3.setText("Select Extras");
        getContentPane().add(jlblTitle3, new org.netbeans.lib.awtextra.AbsoluteConstraints(310, 120, -1, 37));

        jlistExtras.setModel(new javax.swing.AbstractListModel<String>() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public String getElementAt(int i) { return strings[i]; }
        });
        jlistExtras.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                jlistExtrasValueChanged(evt);
            }
        });
        jScrollPane2.setViewportView(jlistExtras);

        getContentPane().add(jScrollPane2, new org.netbeans.lib.awtextra.AbsoluteConstraints(290, 160, 108, -1));

        jlistToppings.setModel(new javax.swing.AbstractListModel<String>() {
            String[] strings = { "Item 1", "Item 2", "Item 3", "Item 4", "Item 5" };
            public int getSize() { return strings.length; }
            public String getElementAt(int i) { return strings[i]; }
        });
        jlistToppings.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                jlistToppingsValueChanged(evt);
            }
        });
        jScrollPane3.setViewportView(jlistToppings);

        getContentPane().add(jScrollPane3, new org.netbeans.lib.awtextra.AbsoluteConstraints(150, 160, 100, -1));

        jlblTitle4.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle4.setText("Delivery / Pickup");
        getContentPane().add(jlblTitle4, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 210, -1, 37));

        jcmbodelivery.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Item 1", "Item 2", "Item 3", "Item 4" }));
        jcmbodelivery.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jcmbodeliveryActionPerformed(evt);
            }
        });
        getContentPane().add(jcmbodelivery, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 250, -1, -1));

        jtxtFname.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jtxtFnameActionPerformed(evt);
            }
        });
        getContentPane().add(jtxtFname, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 60, 220, -1));

        jlblTitle5.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle5.setText("Select Size");
        getContentPane().add(jlblTitle5, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 120, -1, 37));

        jlblTitle6.setForeground(new java.awt.Color(225, 35, 1));
        jlblTitle6.setText("Last Name");
        getContentPane().add(jlblTitle6, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 80, -1, 37));

        jtxtLname.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jtxtLnameActionPerformed(evt);
            }
        });
        getContentPane().add(jtxtLname, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 90, 220, -1));

        pack();
    }// </editor-fold>                        

    private void jcmbosizesActionPerformed(java.awt.event.ActionEvent evt) {                                           
        // TODO add your handling code here:
        RefreshOrder();
    }                                          

    private void jtxtFnameActionPerformed(java.awt.event.ActionEvent evt) {                                          
        // TODO add your handling code here:
        RefreshOrder();
    }                                         

    private void jcmbodeliveryActionPerformed(java.awt.event.ActionEvent evt) {                                              
        // TODO add your handling code here:
        RefreshOrder();
    }                                             

    private void jlistToppingsValueChanged(javax.swing.event.ListSelectionEvent evt) {                                           
        // TODO add your handling code here:
        RefreshOrder();
    }                                          

    private void jlistExtrasValueChanged(javax.swing.event.ListSelectionEvent evt) {                                         
        // TODO add your handling code here:
        RefreshOrder();
    }                                        

    private void jtxtLnameActionPerformed(java.awt.event.ActionEvent evt) {                                          
        // TODO add your handling code here:
        RefreshOrder();
    }                                         

    
    
    void RefreshOrder() // called on ui update
    {
        
        order = ""; // clears order string
        float price = 0; // resets price to 0
        
        String Fname = jtxtFname.getText(); // gets order name
        String Lname = jtxtLname.getText(); // gets order name
        
        
        String[] sizePrices = {"3.00", "5.00", "7.00"};
        String[] deliveryPrices = {"0.00", "5.00"};
        
        
        // get selections
        int sizeIndex = jcmbosizes.getSelectedIndex();
        if(sizeIndex < 0)
        {
            sizeIndex = 0;
        }
        
        int deliveryIndex = jcmbodelivery.getSelectedIndex();
        if(deliveryIndex < 0)
        {
            deliveryIndex = 0;
        }
        
        String size = sizes[sizeIndex]; // gets pizza size;
        String sizePrice = sizePrices[sizeIndex]; // sets size price
        String delivery = pickupOptions[deliveryIndex]; // gets pickup type
        String deliveryPrice = deliveryPrices[deliveryIndex]; // sets pickup price
        
        var toppingsList = jlistToppings.getSelectedValuesList();
        var extrasList = jlistExtras.getSelectedValuesList();
        
        
        // formatting
        
        order += Fname + " " + Lname + "\n\n";
        order += size + " pizza \t\t\t\t " + sizePrice + "\n";
        order += delivery + "\t\t\t\t " + deliveryPrice + "\n";
        
        switch(sizeIndex) // setting total price variable
        {
            case 0:
                price += 3;
                break;
            case 1:
                price += 5;
                break;
            case 2:
                price += 7;
                break;
                
        }
        
        if(deliveryIndex == 1) // setting delivery fee if delivery
        {
            price += 5;
        }
        
        for (String topping : toppingsList) // add toppings
        {
            order += "\t" + topping + "\t\t\t\t 1.00\n";
            price += 1;
        }
        
        for (String extra : extrasList) // add extras
        {
            order += "\t" + extra + "\t\t\t\t  .50\n";
            price += .5;
        }
        
        String priceFormatted = String.format("%.2f", price); // price rounded to 2 decimals
        order += "\n\tTotal \t\t\t\t$" + priceFormatted;
        // set text
        
        jTxtTicket.setText(order); // display ticket
    }
/**
 * @param args the command line arguments
 */
public static void main(String args[])
{
    /* Set the Nimbus look and feel */
    //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
    /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
     */
    try
    {
        for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels())
        {
            if ("Nimbus".equals(info.getName()))
            {
                javax.swing.UIManager.setLookAndFeel(info.getClassName());
                break;
            }
        }
    }
    catch (ClassNotFoundException ex)
    {
        java.util.logging.Logger.getLogger(PizzaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    catch (InstantiationException ex)
    {
        java.util.logging.Logger.getLogger(PizzaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    catch (IllegalAccessException ex)
    {
        java.util.logging.Logger.getLogger(PizzaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    catch (javax.swing.UnsupportedLookAndFeelException ex)
    {
        java.util.logging.Logger.getLogger(PizzaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
    }
    //</editor-fold>

    /* Create and display the form */
    java.awt.EventQueue.invokeLater(new Runnable()
    {
    public void run()
    {
        new PizzaForm().setVisible(true);
    }
    });
}

    // Variables declaration - do not modify                     
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTextArea jTxtTicket;
    private javax.swing.JComboBox<String> jcmbodelivery;
    private javax.swing.JComboBox<String> jcmbosizes;
    private javax.swing.JLabel jlblTitle;
    private javax.swing.JLabel jlblTitle1;
    private javax.swing.JLabel jlblTitle2;
    private javax.swing.JLabel jlblTitle3;
    private javax.swing.JLabel jlblTitle4;
    private javax.swing.JLabel jlblTitle5;
    private javax.swing.JLabel jlblTitle6;
    private javax.swing.JList<String> jlistExtras;
    private javax.swing.JList<String> jlistToppings;
    private javax.swing.JTextField jtxtFname;
    private javax.swing.JTextField jtxtLname;
    // End of variables declaration                   
}
